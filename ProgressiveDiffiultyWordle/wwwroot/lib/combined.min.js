var PDW;!function(t){class e{}e.ValidCharacters=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.EligibleWords=e}(PDW=PDW||{}),function(t){t.GameOptions=class{}}(PDW=PDW||{}),function(t){(t=t.LetterStatus||(t.LetterStatus={}))[t.Unknown=0]="Unknown",t[t.ExactMatch=1]="ExactMatch",t[t.WrongLocation=2]="WrongLocation",t[t.Absent=3]="Absent"}(PDW=PDW||{}),function(c){c.GuessDetails=class{constructor(e,s){this.guess=e,this.characterStates=new Array(5);var a=new Map,r=new Map;for(let t=0;t<s.length;t++)this.updateCharacterMap(a,s,t),this.updateCharacterMap(r,e,t);this.populateCharacterStates(r,a),this.fullMatch=this.characterStates.every(t=>t==c.LetterStatus.ExactMatch)}updateCharacterMap(t,e,s){t.has(e[s])?t.get(e[s]).push(s):t.set(e[s],[s])}populateCharacterStates(t,e){for(var s of t.keys()){var r=t.get(s);if(e.has(s)){let a=e.get(s);if(a.length>=r.length)for(var i of r)this.characterStates[i]=-1<a.indexOf(i)?c.LetterStatus.ExactMatch:c.LetterStatus.WrongLocation;else{let e=0,s=[];for(var n of r){-1<a.indexOf(n)?(this.characterStates[n]=c.LetterStatus.ExactMatch,e+=1):(this.characterStates[n]=c.LetterStatus.Absent,s.push(n));let t=a.length-e;if(0<t)for(t;0<t;t--)this.characterStates[s.shift()]=c.LetterStatus.WrongLocation}}}}}}}(PDW=PDW||{}),function(t){t.LetterState=class{constructor(){}}}(PDW=PDW||{}),function(t){(t=t.GameType||(t.GameType={}))[t.Single=0]="Single",t[t.Endless=1]="Endless",t[t.ProgressiveDifficulty=2]="ProgressiveDifficulty"}(PDW=PDW||{}),function(t){t.ScoreDetails=class{}}(PDW=PDW||{}),function(t){t.Session=class{}}(PDW=PDW||{}),function(t){t.SessionState=class{}}(PDW=PDW||{}),function(e){e.SingleGame=class{constructor(t){this.options=t,this.chosenWord=e.EligibleWords.EligibleAnswers[Math.floor(Math.random()*e.EligibleWords.EligibleAnswers.length)],this.letterState=new e.LetterState,this.userGuesses=[],this.startTime=new Date}processGuess(t){t=t.toLowerCase();t=new e.GuessDetails(t,this.chosenWord);this.userGuesses.push(t),!t.fullMatch&&this.userGuesses.length!=this.options.maxGuesses||(this.endTime=new Date)}}}(PDW=PDW||{});